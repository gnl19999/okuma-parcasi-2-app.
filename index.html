<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Turtles Interactive Reading & Quiz</title>
    <style>
        /* GENEL VE METÄ°N STÄ°LÄ° */
        body {
            font-family: Arial, sans-serif;
            padding: 0;
            margin: 0;
            line-height: 1.6;
            color: #333;
            background-color: white;
            position: relative;
            overflow-x: hidden;
        }
        .main-container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            transition: margin-right 0.5s;
        }
        h1 { color: #333; font-size: 28px; margin-bottom: 5px; }
        .info-bar { display: flex; align-items: center; margin-bottom: 20px; color: #666; font-size: 14px; }
        .info-bar span { margin-right: 15px; }
        .info-bar .status { font-weight: bold; color: #79a109; margin-left: auto; background-color: #e6ffe6; padding: 5px 10px; border-radius: 5px; }

        /* VURGULU KELÄ°MELER ve GÃ–RSEL STÄ°LÄ° */
        .highlight { color: #79a109; font-weight: 500; }
        .article-image { width: 100%; height: auto; max-height: 250px; object-fit: cover; border-radius: 8px; margin-bottom: 20px; }

        /* CÃœMLE VE Ã‡EVÄ°RÄ° STÄ°LÄ° (Ã–nemli KÄ±sÄ±m) */
        .sentence-paragraph {
            position: relative;
            margin-bottom: 20px;
            cursor: pointer;
            padding: 5px 0;
            /* CÃ¼mleleri ayÄ±rmak iÃ§in hafif Ã§izgi (GÃ¶rselinizdeki gibi) */
            border-bottom: 1px dotted #ccc; 
        }
        .sentence-paragraph:hover { background-color: #f9f9f9; }
        .english-text { display: block; font-size: 16px; }
        
        /* Ã‡eviri Arka PlanÄ± YeÅŸil */
        .translation-tooltip {
            /* BaÅŸlangÄ±Ã§ta gizli ve sÄ±fÄ±r yÃ¼kseklikte */
            visibility: hidden;
            opacity: 0;
            height: 0;
            padding: 0 10px;
            
            /* Animasyon iÃ§in geÃ§iÅŸ */
            transition: opacity 0.3s, height 0.3s, padding 0.3s, visibility 0.3s;
            
            width: 95%;
            background-color: #5cb85c; 
            color: white;
            text-align: left;
            border-radius: 4px;
            margin-top: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            font-size: 14px;
            font-style: italic;
            overflow: hidden;
        }
        /* Aktif cÃ¼mleye tÄ±klandÄ±ÄŸÄ±nda Ã§eviriyi gÃ¶ster */
        .sentence-paragraph.active .translation-tooltip {
            visibility: visible;
            opacity: 1;
            height: auto; 
            padding: 8px 10px;
        }
        
        /* SIDEBAR VE BUTON STÄ°LLERÄ° (Ã–nceki koddan) */
        .words-sidebar { height: 100%; width: 300px; position: fixed; z-index: 20; top: 0; right: 0; background-color: white; overflow-y: auto; padding-top: 20px; transform: translateX(300px); transition: transform 0.5s; box-shadow: -5px 0 15px rgba(0,0,0,0.1); }
        .words-sidebar.open { transform: translateX(0); }
        .sidebar-content { padding: 0 20px 20px 20px; }
        .main-container.pushed { margin-right: 300px; }
        .word-item { margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #eee; }
        .english-word { font-weight: bold; color: #333; line-height: 1.2; display: block; }
        .word-type { font-style: italic; color: #79a109; font-size: 13px; margin-right: 5px; }
        .turkish-translation { color: #666; font-size: 14px; display: block; margin-left: 0; }
        .top-buttons { position: fixed; top: 0; right: 0; left: 0; z-index: 30; display: flex; justify-content: flex-end; padding: 10px 10px 5px 10px; background-color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .top-buttons button { background-color: #007bff; color: white; border: none; padding: 8px 15px; font-size: 16px; cursor: pointer; border-radius: 20px; margin-left: 10px; }
        #toggleSidebarButton { background-color: #f1f1f1; color: #333; }
        #toggleQuizButton { background-color: #5bc0de; } 
        .close-btn { position: absolute; top: 15px; left: 20px; font-size: 30px; color: #aaa; cursor: pointer; }
        
        /* QUIZ STÄ°LLERÄ° (Quiz Ã¶zelliÄŸinin tam Ã§alÄ±ÅŸmasÄ± iÃ§in korundu) */
        .quiz-container { display: none; padding: 20px; max-width: 400px; margin: 0 auto; text-align: center; padding-top: 70px; }
        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; color: #666; }
        .quiz-word-box { font-size: 36px; font-weight: bold; margin-bottom: 30px; color: #333; }
        .quiz-word-type { font-style: italic; color: #79a109; font-size: 18px; display: block; margin-bottom: 10px; }
        .option-button { width: 100%; padding: 15px 20px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 12px; background-color: #f9f9f9; text-align: center; cursor: pointer; font-size: 18px; font-weight: 500; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.05); position: relative; }
        .correct { background-color: #79a109; color: white; border-color: #79a109; }
        .wrong { background-color: #ff4d4d; color: white; border-color: #ff4d4d; }
        .check-mark { font-size: 60px; color: white; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: none; z-index: 10; background-color: rgba(121, 161, 9, 0.95); border-radius: 50%; width: 80px; height: 80px; line-height: 80px; box-shadow: 0 0 15px rgba(0,0,0,0.3); font-weight: bold; }
        .correct.selected .check-mark { display: block; }
        .progress-bar-container { height: 8px; background-color: #eee; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-bar { height: 100%; width: 0%; background-color: #79a109; transition: width 0.3s; }
        .quiz-results { display: none; text-align: center; }
        .quiz-results h2 { color: #79a109; font-size: 30px; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="top-buttons">
    <button id="toggleSidebarButton">W Kelimeler</button>
    <button id="toggleQuizButton" style="background-color: #5bc0de;">Word Quiz</button>
    <button style="background-color: #79a109;">Questions</button>
</div>

<div id="wordsSidebar" class="words-sidebar">
    <span class="close-btn" id="closeSidebarButton">&times;</span>
    <div class="sidebar-content">
        <h1>Kelimeler (26 Kelime)</h1>
        <div class="word-item"><span class="english-word">turtle</span><span class="word-type">noun.</span><span class="turkish-translation">deniz kaplumbaÄŸasÄ±, kaplumbaÄŸa</span></div>
        <div class="word-item"><span class="english-word">large / big</span><span class="word-type">adj.</span><span class="turkish-translation">bÃ¼yÃ¼k, iri</span></div>
        <div class="word-item"><span class="english-word">live</span><span class="word-type">verb.</span><span class="turkish-translation">yaÅŸamak</span></div>
        <div class="word-item"><span class="english-word">ocean / sea</span><span class="word-type">noun.</span><span class="turkish-translation">okyanus / deniz</span></div>
        <div class="word-item"><span class="english-word">like</span><span class="word-type">verb.</span><span class="turkish-translation">hoÅŸlanmak, sevmek</span></div>
        <div class="word-item"><span class="english-word">warm</span><span class="word-type">adj.</span><span class="turkish-translation">Ä±lÄ±k, sÄ±cacÄ±k</span></div>
        <div class="word-item"><span class="english-word">beach</span><span class="word-type">noun.</span><span class="turkish-translation">plaj, sahil</span></div>
        <div class="word-item"><span class="english-word">swim</span><span class="word-type">verb.</span><span class="turkish-translation">yÃ¼zmek</span></div>
        <div class="word-item"><span class="english-word">fast</span><span class="word-type">adj.</span><span class="turkish-translation">hÄ±zlÄ±</span></div>
        <div class="word-item"><span class="english-word">flipper</span><span class="word-type">noun.</span><span class="turkish-translation">yÃ¼zgeÃ§ (hayvan)</span></div>
        <div class="word-item"><span class="english-word">adult</span><span class="word-type">noun.</span><span class="turkish-translation">yetiÅŸkin</span></div>
        <div class="word-item"><span class="english-word">eat</span><span class="word-type">verb.</span><span class="turkish-translation">yemek</span></div>
        <div class="word-item"><span class="english-word">plant / seaweed</span><span class="word-type">noun.</span><span class="turkish-translation">bitki / deniz yosunu</span></div>
        <div class="word-item"><span class="english-word">danger</span><span class="word-type">noun.</span><span class="turkish-translation">tehlike</span></div>
        <div class="word-item"><span class="english-word">nest</span><span class="word-type">noun.</span><span class="turkish-translation">yuva</span></div>
        <div class="word-item"><span class="english-word">egg</span><span class="word-type">noun.</span><span class="turkish-translation">yumurta</span></div>
        <div class="word-item"><span class="english-word">clean</span><span class="word-type">adj.</span><span class="turkish-translation">temiz</span></div>
        <div class="word-item"><span class="english-word">keep safe</span><span class="word-type">verb.</span><span class="turkish-translation">gÃ¼vende tutmak, korumak</span></div>
        <div class="word-item"><span class="english-word">animal</span><span class="word-type">noun.</span><span class="turkish-translation">hayvan</span></div>
        <div class="word-item"><span class="english-word">brown / yellow</span><span class="word-type">adj.</span><span class="turkish-translation">kahverengi / sarÄ±</span></div>
        <div class="word-item"><span class="english-word">kind</span><span class="word-type">noun.</span><span class="turkish-translation">tÃ¼r, Ã§eÅŸit</span></div>
        <div class="word-item"><span class="english-word">strong</span><span class="word-type">adj.</span><span class="turkish-translation">gÃ¼Ã§lÃ¼, saÄŸlam</span></div>
        <div class="word-item"><span class="english-word">leg</span><span class="word-type">noun.</span><span class="turkish-translation">bacak</span></div>
        <div class="word-item"><span class="english-word">long</span><span class="word-type">adj.</span><span class="turkish-translation">uzun</span></div>
        <div class="word-item"><span class="english-word">young</span><span class="word-type">adj.</span><span class="turkish-translation">genÃ§, yavru</span></div>
        <div class="word-item"><span class="english-word">important</span><span class="word-type">adj.</span><span class="turkish-translation">Ã¶nemli</span></div>
    </div>
</div>

<div id="mainContent" class="main-container" style="padding-top: 70px;"> 
    <h1>Green Turtles</h1>
    <div class="info-bar">
        <span>ğŸ•’ 1 min</span>
        <span>W 108 words</span>
        <span class="status">Okundu olarak iÅŸaretle</span>
    </div>
    
    <img src="https://via.placeholder.com/600x250/79a109/ffffff?text=Green+Turtle+Underwater+Image" alt="Green Turtle underwater" class="article-image">
    
    <p class="sentence-paragraph">
        <span class="english-text">Green <span class="highlight">turtles</span> are <span class="highlight">big</span> <span class="highlight">animal</span>s. They are a <span class="highlight">kind</span> of sea <span class="highlight">turtle</span>. Their name is "Green Turtle," but they are often <span class="highlight">brown / yellow</span>. They <span class="highlight">live</span> in the <span class="highlight">ocean</span>.</span>
        <span class="translation-tooltip">YeÅŸil kaplumbaÄŸalar bÃ¼yÃ¼k hayvanlardÄ±r. Onlar bir tÃ¼r deniz kaplumbaÄŸasÄ±dÄ±r. Ä°simleri "YeÅŸil KaplumbaÄŸa"dÄ±r, ancak genellikle kahverengi veya sarÄ±dÄ±rlar. Okyanusta yaÅŸarlar.</span>
    </p>

    <p class="sentence-paragraph">
        <span class="english-text">Green <span class="highlight">turtles</span> <span class="highlight">like</span> <span class="highlight">warm</span> water. They <span class="highlight">live</span> in <span class="highlight">warm</span> places <span class="highlight">like</span> near <span class="highlight">beaches</span>. They <span class="highlight">swim</span> very <span class="highlight">fast</span>. They use their <span class="highlight">strong</span> <span class="highlight">leg</span>s (<span class="highlight">flipper</span>s) to <span class="highlight">swim</span>.</span>
        <span class="translation-tooltip">YeÅŸil kaplumbaÄŸalar Ä±lÄ±k suyu sever. Plajlara yakÄ±n Ä±lÄ±k yerlerde yaÅŸarlar. Ã‡ok hÄ±zlÄ± yÃ¼zerler. YÃ¼zmek iÃ§in gÃ¼Ã§lÃ¼ bacaklarÄ±nÄ± (yÃ¼zgeÃ§lerini) kullanÄ±rlar.</span>
    </p>
    <p class="sentence-paragraph">
        <span class="english-text">A small green <span class="highlight">turtle</span> is very small. But when they are <span class="highlight">adults</span>, they are <span class="highlight">big</span>! Some can be 1 meter <span class="highlight">long</span>. They can <span class="highlight">live</span> for a very <span class="highlight">long</span> time, maybe 80 years!</span>
        <span class="translation-tooltip">KÃ¼Ã§Ã¼k bir yeÅŸil kaplumbaÄŸa Ã§ok kÃ¼Ã§Ã¼ktÃ¼r. Ama yetiÅŸkin olduklarÄ±nda bÃ¼yÃ¼ktÃ¼rler! BazÄ±larÄ± 1 metre uzunluÄŸunda olabilir. Ã‡ok uzun yaÅŸayabilirler, belki 80 yÄ±l!</span>
    </p>
    <p class="sentence-paragraph">
        <span class="english-text">What do they <span class="highlight">eat</span>? When they are <span class="highlight">young</span>, they <span class="highlight">eat</span> small sea <span class="highlight">animal</span>s. But when they are <span class="highlight">big</span>, they mainly <span class="highlight">eat</span> <span class="highlight">plant</span>s in the <span class="highlight">sea</span>, <span class="highlight">like</span> <span class="highlight">seaweed</span>. They are mostly herbivores.</span>
        <span class="translation-tooltip">Ne yerler? GenÃ§ olduklarÄ±nda, kÃ¼Ã§Ã¼k deniz hayvanlarÄ±nÄ± yerler. Ama bÃ¼yÃ¼dÃ¼klerinde, esas olarak deniz yosunu gibi denizdeki bitkileri yerler. Ã‡oÄŸunlukla otÃ§uldurlar.</span>
    </p>
    <p class="sentence-paragraph">
        <span class="english-text">Green <span class="highlight">turtles</span> are <span class="highlight">important</span>. We must help them. Many <span class="highlight">turtles</span> are in <span class="highlight">danger</span>. People must <span class="highlight">keep safe</span> the <span class="highlight">beaches</span> <span class="highlight">clean</span> so <span class="highlight">turtles</span> can make their <span class="highlight">nest</span>s and lay their <span class="highlight">egg</span>s there.</span>
        <span class="translation-tooltip">YeÅŸil kaplumbaÄŸalar Ã¶nemlidir. Onlara yardÄ±m etmeliyiz. BirÃ§ok kaplumbaÄŸa tehlikededir. Ä°nsanlar, kaplumbaÄŸalarÄ±n yuvalarÄ±nÄ± yapÄ±p yumurtlayabilmeleri iÃ§in plajlarÄ± temiz tutmalÄ±dÄ±r.</span>
    </p>

</div>

<div id="quizContainer" class="quiz-container">
    <div class="quiz-header">
        <span id="quizBackButton" style="cursor: pointer; font-size: 24px;">&times;</span>
        <span id="quizProgress">1/26</span>
    </div>
    
    <div class="progress-bar-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>
    
    <div id="questionArea">
        <span class="quiz-word-type" id="currentWordType"></span>
        <div class="quiz-word-box" id="currentWord"></div>
        <div id="optionsContainer">
            </div>
    </div>
    
    <div id="resultsScreen" class="quiz-results">
        <h2>Tebrikler!</h2>
        <p>Testi bitirdiniz. <span id="correctCount">0</span> doÄŸru cevabÄ±nÄ±z var.</p>
        <button id="restartQuizButton">Tekrar BaÅŸla</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.getElementById("wordsSidebar");
        const mainContent = document.getElementById("mainContent");
        const quizContainer = document.getElementById("quizContainer");
        const toggleSidebarButton = document.getElementById("toggleSidebarButton");
        const closeSidebarButton = document.getElementById("closeSidebarButton");
        const toggleQuizButton = document.getElementById("toggleQuizButton");
        const quizBackButton = document.getElementById("quizBackButton");
        const sentenceParagraphs = document.querySelectorAll('.sentence-paragraph');
        
        // Quiz Elementleri... (KÄ±saltÄ±ldÄ±)
        const quizProgress = document.getElementById('quizProgress');
        const progressBar = document.getElementById('progressBar');
        const currentWord = document.getElementById('currentWord');
        const currentWordType = document.getElementById('currentWordType');
        const optionsContainer = document.getElementById('optionsContainer');
        const questionArea = document.getElementById('questionArea');
        const resultsScreen = document.getElementById('resultsScreen');
        const correctCountSpan = document.getElementById('correctCount');
        const restartQuizButton = document.getElementById('restartQuizButton');

        // 26 Kelimelik Quiz Verisi (Quiz sistemi iÃ§in gerekli, bu kÄ±sÄ±m tam bÄ±rakÄ±ldÄ±)
        const quizData = [
            { word: "turtle", type: "noun.", correct: "deniz kaplumbaÄŸasÄ±, kaplumbaÄŸa" },
            { word: "large / big", type: "adj.", correct: "bÃ¼yÃ¼k, iri" },
            { word: "live", type: "verb.", correct: "yaÅŸamak" },
            { word: "ocean / sea", type: "noun.", correct: "okyanus / deniz" },
            { word: "like", type: "verb.", correct: "hoÅŸlanmak, sevmek" },
            { word: "warm", type: "adj.", correct: "Ä±lÄ±k, sÄ±cacÄ±k" },
            { word: "beach", type: "noun.", correct: "plaj, sahil" },
            { word: "swim", type: "verb.", correct: "yÃ¼zmek" },
            { word: "fast", type: "adj.", correct: "hÄ±zlÄ±" },
            { word: "flipper", type: "noun.", correct: "yÃ¼zgeÃ§ (hayvan)" },
            { word: "adult", type: "noun.", correct: "yetiÅŸkin" },
            { word: "eat", type: "verb.", correct: "yemek" },
            { word: "plant / seaweed", type: "noun.", correct: "bitki / deniz yosunu" },
            { word: "danger", type: "noun.", correct: "tehlike" },
            { word: "nest", type: "noun.", correct: "yuva" },
            { word: "egg", type: "noun.", correct: "yumurta" },
            { word: "clean", type: "adj.", correct: "temiz" },
            { word: "keep safe", type: "verb.", correct: "gÃ¼vende tutmak, korumak" },
            { word: "animal", type: "noun.", correct: "hayvan" },
            { word: "brown / yellow", type: "adj.", correct: "kahverengi / sarÄ±" },
            { word: "kind", type: "noun.", correct: "tÃ¼r, Ã§eÅŸit" },
            { word: "strong", type: "adj.", correct: "gÃ¼Ã§lÃ¼, saÄŸlam" },
            { word: "leg", type: "noun.", correct: "bacak" },
            { word: "long", type: "adj.", correct: "uzun" },
            { word: "young", type: "adj.", correct: "genÃ§, yavru" },
            { word: "important", type: "adj.", correct: "Ã¶nemli" }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        const allTranslations = quizData.map(q => q.correct);

        // --- CÃ¼mle Ã‡eviri FonksiyonlarÄ± (Optimize Edildi) ---
        
        // TÃœM Ã‡EVÄ°RÄ°LERÄ° KAPATIR
        function closeAllTranslations() {
            sentenceParagraphs.forEach(container => {
                container.classList.remove('active');
            });
        }
        
        // TIKLANAN CÃœMLENÄ°N Ã‡EVÄ°RÄ°SÄ°NÄ° AÃ‡AR (DiÄŸerlerini kapatÄ±rken)
        function handleSentenceClick(element) {
            const isActive = element.classList.contains('active');
            
            // Ã–nce tÃ¼m Ã§evirileri kapat
            closeAllTranslations();
            
            // EÄŸer tÄ±klandÄ±ÄŸÄ±nda aktif deÄŸilse, sadece o cÃ¼mleyi aktif et
            if (!isActive) {
                element.classList.add('active');
            }
        }

        // CÃ¼mle tÄ±klama olaylarÄ±nÄ± dinleme
        sentenceParagraphs.forEach(paragraph => {
            paragraph.addEventListener('click', function(event) {
                // TÄ±klanan Ã¶ÄŸenin bir alt etiket deÄŸil, cÃ¼mle kapsayÄ±cÄ±sÄ± olduÄŸundan emin olun
                // Bu, highlighted kelimeye tÄ±klasanÄ±z bile cÃ¼mleyi aÃ§ar/kapatÄ±r
                handleSentenceClick(this);
            });
        });

        // VÃ¼cudun herhangi bir yerine tÄ±klanÄ±rsa aÃ§Ä±k olan Ã§evirileri kapat
        document.body.addEventListener('click', function(e) {
            if (!e.target.closest('.sentence-paragraph') && !e.target.closest('.top-buttons') && !e.target.closest('.words-sidebar') && !e.target.closest('.quiz-container')) {
                closeAllTranslations();
            }
        });
        
        // --- Sayfa GeÃ§iÅŸ ve Sidebar FonksiyonlarÄ± (Korumaya alÄ±ndÄ±) ---

        function showSection(sectionId) {
            mainContent.style.display = 'none';
            quizContainer.style.display = 'none';
            sidebar.classList.remove("open");

            if (sectionId === 'main') {
                mainContent.style.display = 'block';
            } else if (sectionId === 'quiz') {
                quizContainer.style.display = 'block';
                if (currentQuestionIndex === quizData.length) {
                    showResults(); 
                } else {
                    displayQuestion();
                }
            }
            closeAllTranslations();
        }
        
        function toggleNav() {
            if (sidebar.classList.contains("open")) {
                sidebar.classList.remove("open");
                mainContent.classList.remove("pushed");
            } else {
                sidebar.classList.add("open");
                mainContent.classList.add("pushed");
            }
            closeAllTranslations(); 
        }

        // --- Quiz FonksiyonlarÄ± (Korumaya alÄ±ndÄ±) ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function generateOptions(correctAnswer) {
            const incorrectOptions = allTranslations.filter(t => t !== correctAnswer);
            let chosenIncorrect = shuffleArray(incorrectOptions).slice(0, 3);
            let options = [...chosenIncorrect, correctAnswer];
            return shuffleArray(options); 
        }

        function displayQuestion() {
            questionArea.style.display = 'block';
            resultsScreen.style.display = 'none';

            if (currentQuestionIndex >= quizData.length) {
                showResults();
                return;
            }

            const currentQ = quizData[currentQuestionIndex];
            currentWordType.textContent = currentQ.type;
            currentWord.textContent = currentQ.word;
            quizProgress.textContent = `${currentQuestionIndex + 1}/${quizData.length}`;
            const progressPercentage = (currentQuestionIndex / quizData.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;

            optionsContainer.innerHTML = '';
            const options = generateOptions(currentQ.correct);

            options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('option-button');
                button.textContent = option;
                button.setAttribute('data-answer', option);
                button.onclick = () => checkAnswer(button, option, currentQ.correct);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(selectedButton, selectedAnswer, correctAnswer) {
            Array.from(optionsContainer.children).forEach(btn => btn.disabled = true);
            
            if (selectedAnswer === correctAnswer) {
                selectedButton.classList.add('correct', 'selected');
                score++;
                const checkMark = document.createElement('span');
                checkMark.classList.add('check-mark');
                checkMark.textContent = 'âœ“';
                selectedButton.appendChild(checkMark);

            } else {
                selectedButton.classList.add('wrong');
                const correctButton = Array.from(optionsContainer.children).find(btn => btn.getAttribute('data-answer') === correctAnswer);
                if (correctButton) {
                    correctButton.classList.add('correct');
                }
            }

            setTimeout(() => {
                currentQuestionIndex++;
                displayQuestion();
            }, 1000);
        }
        
        function showResults() {
            questionArea.style.display = 'none';
            resultsScreen.style.display = 'block';
            correctCountSpan.textContent = score;
            progressBar.style.width = '100%'; 
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            shuffleArray(quizData);
            displayQuestion();
        }


        // --- Olay Dinleyicisi AtamalarÄ± ---
        toggleSidebarButton.addEventListener('click', toggleNav);
        closeSidebarButton.addEventListener('click', toggleNav);
        toggleQuizButton.addEventListener('click', () => {
            showSection('quiz');
            restartQuiz();
        });
        quizBackButton.addEventListener('click', () => {
            showSection('main');
        });
        restartQuizButton.addEventListener('click', restartQuiz);

        // BaÅŸlangÄ±Ã§ta ana iÃ§eriÄŸi gÃ¶ster
        showSection('main');
    });
</script>

</body>
</html>
